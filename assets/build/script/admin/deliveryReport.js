function filterByDateChange(){let e=document.querySelector('input[name="filterByDate"]:checked').value,t=document.getElementById("filterYearWrapper"),r=document.getElementById("filterMonthWrapper"),l=document.getElementById("filterDayWrapper");t.classList.add("hidden"),r.classList.add("hidden"),l.classList.add("hidden"),1==e?t.classList.remove("hidden"):2==e?r.classList.remove("hidden"):3==e&&l.classList.remove("hidden"),reportDeliveryList()}function reportDeliveryList(e=1,t=10,r=""){let l=document.getElementById("reportDeliveryTable"),n=document.querySelector('input[name="filterByDate"]:checked').value,i=document.getElementById("filterYear").value,o=document.getElementById("filterMonth").value,a=document.getElementById("filterDay").value;l&&(SnFreeze.freeze({selector:"#reportDeliveryTable"}),RequestApi.fetch("/admin/report/deliveryReportTable",{method:"POST",body:{limit:t,page:e,search:r,filterByDate:n,filterYear:i,filterMonth:o,filterDay:a}}).then(e=>{e.success?l.innerHTML=e.view:SnModal.error({title:"Algo salió mal",content:e.message})}).finally(e=>{SnFreeze.unFreeze("#reportDeliveryTable")}))}function reportDeliverySetLoading(e){let t=document.querySelectorAll(".jsReportDeliveryAction");e?t&&t.forEach(e=>{e.setAttribute("disabled","disabled")}):t&&t.forEach(e=>{e.removeAttribute("disabled")})}function reportDeliveryCancel(e,t=""){SnModal.confirm({title:`¿Estás seguro de anular esta orden ${t}?`,content:'Ingrese el motivo por que desea anular este orden <span class="SnTag warning">Esta acción es irreversible</span>',input:!0,okText:"Si",okType:"error",cancelText:"No",onOk(t){reportDeliverySetLoading(!0),RequestApi.fetch("/admin/report/deliveryCancel",{method:"POST",body:{deliveryId:e||0,message:t}}).then(e=>{e.success?(SnMessage.success({content:e.message}),reportDeliveryList()):SnModal.error({title:"Algo salió mal",content:e.message})}).finally(e=>{reportDeliverySetLoading(!1)})}})}function reportDeliveryItem(e){reportDeliverySetLoading(!0),RequestApi.fetch("/admin/report/deliveryItems",{method:"POST",body:{deliveryId:e||0}}).then(e=>{e.success?(SnModal.open("deliveryItemModalForm"),document.getElementById("deliveryItemModalBody").innerHTML=e.view):SnModal.error({title:"Algo salió mal",content:e.message})}).finally(e=>{reportDeliverySetLoading(!1)})}document.addEventListener("DOMContentLoaded",()=>{reportDeliveryList()});